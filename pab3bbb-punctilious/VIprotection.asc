Version 4
SHEET 1 1904 680
WIRE -288 -1488 -288 -1504
WIRE -288 -1216 -288 -1408
WIRE -192 -1216 -288 -1216
WIRE -96 -1216 -192 -1216
WIRE -480 -1104 -480 -1120
WIRE -96 -928 -96 -1136
WIRE -368 -832 -384 -832
WIRE -288 -832 -288 -1136
WIRE -288 -832 -304 -832
WIRE -192 -816 -192 -1136
WIRE -480 -784 -480 -1040
WIRE -288 -736 -288 -832
WIRE -288 -736 -416 -736
WIRE 144 -736 -288 -736
WIRE 320 -736 304 -736
WIRE -384 -720 -384 -832
WIRE -96 -720 -96 -848
WIRE 224 -720 224 -736
WIRE -480 -640 -480 -688
WIRE -384 -640 -480 -640
WIRE -192 -640 -192 -752
WIRE -192 -640 -384 -640
WIRE -96 -640 -96 -656
WIRE -96 -640 -192 -640
WIRE 224 -640 -96 -640
WIRE 320 -640 224 -640
WIRE -96 -624 -96 -640
WIRE -480 -592 -480 -640
WIRE -288 -544 -416 -544
WIRE 144 -544 -288 -544
WIRE 224 -544 224 -560
WIRE 320 -544 304 -544
WIRE -192 -528 -192 -640
WIRE -96 -528 -96 -560
WIRE -384 -448 -384 -560
WIRE -368 -448 -384 -448
WIRE -288 -448 -288 -544
WIRE -288 -448 -304 -448
WIRE -480 -240 -480 -496
WIRE -480 -160 -480 -176
WIRE -288 -144 -288 -448
WIRE -192 -144 -192 -464
WIRE -96 -144 -96 -448
WIRE -192 -64 -288 -64
WIRE -96 -64 -192 -64
WIRE -288 128 -288 -64
WIRE -288 224 -288 208
FLAG -288 -1504 vcc
IOPIN -288 -1504 Out
FLAG -288 224 vee
IOPIN -288 224 Out
FLAG 320 -736 usense
IOPIN 320 -736 In
FLAG 320 -544 lsense
IOPIN 320 -544 In
FLAG 320 -640 output
IOPIN 320 -640 In
FLAG -480 -1120 usink
IOPIN -480 -1120 Out
FLAG -480 -160 lsink
IOPIN -480 -160 Out
SYMBOL npn -416 -784 M0
SYMATTR InstName Q5
SYMATTR Value BC846B
SYMBOL diode -496 -1104 R0
SYMATTR InstName D1
SYMATTR Value BAV21
SYMBOL res 208 -736 R0
SYMATTR InstName R7
SYMATTR Value 5.1
SYMBOL res 320 -752 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R8
SYMATTR Value 20
SYMBOL pnp -416 -496 R180
SYMATTR InstName Q6
SYMATTR Value BC856B
SYMBOL diode -496 -240 R0
SYMATTR InstName D2
SYMATTR Value BAV21
SYMBOL res 320 -560 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R9
SYMATTR Value 20
SYMBOL res 208 -656 R0
SYMATTR InstName R10
SYMATTR Value 5.1
SYMBOL res -368 -624 R180
WINDOW 0 36 76 Left 0
WINDOW 3 36 40 Left 0
SYMATTR InstName R12
SYMATTR Value 10
SYMBOL cap -304 -848 R90
WINDOW 0 0 32 VBottom 0
WINDOW 3 32 32 VTop 0
SYMATTR InstName C5
SYMATTR Value 100n
SYMBOL cap -304 -464 R90
WINDOW 0 0 32 VBottom 0
WINDOW 3 32 32 VTop 0
SYMATTR InstName C6
SYMATTR Value 100n
SYMBOL res -368 -544 R180
WINDOW 0 36 76 Left 0
WINDOW 3 36 40 Left 0
SYMATTR InstName R13
SYMATTR Value 10
SYMBOL res -304 -1504 R0
SYMATTR InstName R14
SYMATTR Value 3.9k
SYMBOL res 240 -752 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R15
SYMATTR Value 82
SYMBOL res -304 -1232 R0
SYMATTR InstName R16
SYMATTR Value 3.3k
SYMBOL zener -208 -752 M180
WINDOW 0 24 72 Left 0
WINDOW 3 24 0 Left 0
SYMATTR InstName D3
SYMATTR Value BZX84C12L
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL zener -112 -656 M180
WINDOW 0 24 72 Left 0
WINDOW 3 24 0 Left 0
SYMATTR InstName D4
SYMATTR Value BZX84C15L
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res -208 -1232 R0
SYMATTR InstName R17
SYMATTR Value 2.4k
SYMBOL res -112 -1232 R0
SYMATTR InstName R18
SYMATTR Value 1k
SYMBOL res -304 -160 R0
SYMATTR InstName R19
SYMATTR Value 3.3k
SYMBOL res -304 112 R0
SYMATTR InstName R20
SYMATTR Value 3.9k
SYMBOL zener -208 -464 M180
WINDOW 0 24 72 Left 0
WINDOW 3 24 0 Left 0
SYMATTR InstName D5
SYMATTR Value BZX84C12L
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL zener -112 -560 M180
WINDOW 0 24 72 Left 0
WINDOW 3 24 0 Left 0
SYMATTR InstName D6
SYMATTR Value BZX84C15L
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res -208 -160 R0
SYMATTR InstName R21
SYMATTR Value 2.4k
SYMBOL res -112 -160 R0
SYMATTR InstName R22
SYMATTR Value 1k
SYMBOL res 240 -560 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R23
SYMATTR Value 82
SYMBOL voltage -96 -944 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 3
SYMBOL voltage -96 -544 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 3
TEXT 520 -1248 Left 0 !.lib "STM_D.lib"
