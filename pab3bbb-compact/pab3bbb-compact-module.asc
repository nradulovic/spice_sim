Version 4
SHEET 1 6124 2336
WIRE 192 -992 -192 -992
WIRE 480 -992 192 -992
WIRE 672 -992 480 -992
WIRE 768 -992 672 -992
WIRE 1344 -992 768 -992
WIRE 1392 -992 1344 -992
WIRE 1536 -992 1392 -992
WIRE 1632 -992 1616 -992
WIRE -192 -976 -192 -992
WIRE 192 -976 192 -992
WIRE 672 -976 672 -992
WIRE 768 -976 768 -992
WIRE -192 -848 -192 -912
WIRE 192 -848 192 -896
WIRE -96 -800 -128 -800
WIRE 128 -800 -96 -800
WIRE 768 -752 768 -896
WIRE -192 -704 -192 -752
WIRE -96 -704 -96 -800
WIRE -96 -704 -192 -704
WIRE 672 -704 672 -896
WIRE 672 -704 288 -704
WIRE 704 -704 672 -704
WIRE -192 -608 -192 -704
WIRE 672 -592 672 -704
WIRE 1344 -592 1344 -992
WIRE 288 -560 288 -704
WIRE 480 -560 480 -992
WIRE 224 -512 96 -512
WIRE 576 -512 544 -512
WIRE 672 -512 672 -528
WIRE 768 -512 768 -656
WIRE 768 -512 672 -512
WIRE 1056 -512 768 -512
WIRE 1152 -512 1056 -512
WIRE 1168 -512 1152 -512
WIRE 1296 -512 1248 -512
WIRE 288 -416 288 -464
WIRE 480 -416 480 -464
WIRE 768 -416 768 -512
WIRE 960 -416 768 -416
WIRE 768 -400 768 -416
WIRE 1152 -400 1152 -512
WIRE 960 -368 960 -416
WIRE 288 -320 288 -336
WIRE 480 -320 480 -336
WIRE 480 -320 288 -320
WIRE 896 -320 768 -320
WIRE 1344 -320 1344 -496
WIRE 1056 -304 1056 -512
WIRE -80 -224 -96 -224
WIRE 576 -224 576 -512
WIRE 576 -224 0 -224
WIRE 768 -224 768 -320
WIRE 1152 -224 1152 -336
WIRE 1248 -224 1152 -224
WIRE 1344 -224 1344 -240
WIRE 1344 -224 1248 -224
WIRE 1536 -224 1344 -224
WIRE 1632 -224 1616 -224
WIRE 1344 -208 1344 -224
WIRE -80 -128 -96 -128
WIRE 96 -128 96 -512
WIRE 96 -128 0 -128
WIRE 192 -128 192 -752
WIRE 384 -128 192 -128
WIRE 192 -112 192 -128
WIRE 384 -112 384 -128
WIRE 768 -112 768 -144
WIRE 960 -112 960 -272
WIRE 1152 -112 1152 -224
WIRE 960 -32 960 -48
WIRE 960 -32 768 -32
WIRE 192 16 192 -32
WIRE 384 16 384 -32
WIRE 1344 48 1344 -128
WIRE 96 64 96 -128
WIRE 128 64 96 64
WIRE 576 64 576 -224
WIRE 576 64 448 64
WIRE 768 64 768 -32
WIRE 768 64 672 64
WIRE 1056 64 1056 -240
WIRE 1056 64 768 64
WIRE 1152 64 1152 -48
WIRE 1152 64 1056 64
WIRE 1168 64 1152 64
WIRE 1296 64 1248 64
WIRE 672 80 672 64
WIRE 768 208 768 64
WIRE -192 256 -192 -528
WIRE -96 256 -192 256
WIRE 192 256 192 112
WIRE 672 256 672 144
WIRE 672 256 192 256
WIRE 704 256 672 256
WIRE -192 304 -192 256
WIRE 480 304 480 -320
WIRE -96 352 -96 256
WIRE -96 352 -128 352
WIRE 416 352 -96 352
WIRE 480 448 480 400
WIRE 672 448 672 256
WIRE 768 448 768 304
WIRE -192 464 -192 400
WIRE -192 544 -192 528
WIRE 384 544 384 112
WIRE 384 544 -192 544
WIRE 480 544 480 528
WIRE 480 544 384 544
WIRE 672 544 672 528
WIRE 672 544 480 544
WIRE 768 544 768 528
WIRE 768 544 672 544
WIRE 1344 544 1344 144
WIRE 1344 544 768 544
WIRE 1536 544 1344 544
WIRE 1632 544 1616 544
FLAG 1632 -992 pvcc
IOPIN 1632 -992 In
FLAG 1632 544 pvee
IOPIN 1632 544 In
FLAG 1632 -224 out
IOPIN 1632 -224 Out
FLAG -96 -128 ninv
IOPIN -96 -128 In
FLAG -96 -224 inv
IOPIN -96 -224 In
FLAG 1392 -992 pvcc_i
FLAG 1248 -224 out_i
SYMBOL pnp 128 112 M180
WINDOW 0 77 84 Left 2
WINDOW 3 75 52 Left 2
SYMATTR InstName Q11
SYMATTR Value CA_BC560C
SYMBOL res 752 -992 R0
SYMATTR InstName R16
SYMATTR Value {rvase}
SYMBOL res 1264 -528 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R27
SYMATTR Value {rdrvb}
SYMBOL res 752 -240 R0
WINDOW 3 36 76 Invisible 2
SYMATTR Value {1+(500*BIAS)}
SYMATTR InstName PBIAS1
SYMBOL res 752 -416 R0
SYMATTR InstName R52
SYMATTR Value 5k6
SYMBOL npn 704 208 R0
SYMATTR InstName Q3
SYMATTR Value 2SC3503F
SYMBOL res 752 432 R0
SYMATTR InstName R6
SYMATTR Value {rvase}
SYMBOL pnp 448 112 R180
WINDOW 0 77 84 Left 2
WINDOW 3 75 52 Left 2
SYMATTR InstName Q7
SYMATTR Value CA_BC560C
SYMBOL npn 896 -368 R0
SYMATTR InstName Q21
SYMATTR Value MJE340
SYMBOL res 752 -128 R0
SYMATTR InstName R37
SYMATTR Value 1k2
SYMBOL res 1328 -336 R0
SYMATTR InstName R14
SYMATTR Value 0.15
SYMBOL res 1328 -224 R0
SYMATTR InstName R21
SYMATTR Value 0.22
SYMBOL ind -96 -112 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L2
SYMATTR Value 15n
SYMATTR SpiceLine Rser=20m
SYMBOL ind -96 -208 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L3
SYMATTR Value 15n
SYMATTR SpiceLine Rser=20m
SYMBOL ind 1520 -208 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L10
SYMATTR Value 10n
SYMATTR SpiceLine Rser=10m
SYMBOL ind 1520 -976 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L9
SYMATTR Value 10n
SYMATTR SpiceLine Rser=10m
SYMBOL ind 1520 560 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L12
SYMATTR Value 10n
SYMATTR SpiceLine Rser=10m
SYMBOL res 1264 48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R19
SYMATTR Value {rdrvb}
SYMBOL nmos 1296 -592 R0
SYMATTR InstName M1
SYMATTR Value CA_IRFP240C
SYMBOL pmos 1296 144 M180
SYMATTR InstName M2
SYMATTR Value CA_IRFP9240C
SYMBOL diode 944 -112 R0
SYMATTR InstName D6
SYMATTR Value 1N4148
SYMBOL pnp 704 -656 M180
WINDOW 0 77 84 Left 2
WINDOW 3 75 52 Left 2
SYMATTR InstName Q9
SYMATTR Value 2SA1381F
SYMBOL diode 1136 -336 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D9
SYMATTR Value BAV21
SYMBOL diode 1136 -48 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D10
SYMATTR Value BAV21
SYMBOL res 656 432 R0
SYMATTR InstName R1
SYMATTR Value {rvasb}
SYMBOL res 656 -992 R0
SYMATTR InstName R5
SYMATTR Value {rvasb}
SYMBOL cap 1040 -304 R0
SYMATTR InstName C1
SYMATTR Value 22µ
SYMBOL res 176 -128 R0
SYMATTR InstName R4
SYMATTR Value {rltpe}
SYMBOL cap 656 80 R0
SYMATTR InstName C3
SYMATTR Value 33p
SYMBOL cap 656 -592 R0
SYMATTR InstName C4
SYMATTR Value 33p
SYMBOL res 368 -128 R0
SYMATTR InstName R3
SYMATTR Value {rltpe}
SYMBOL pnp 128 -752 M180
WINDOW 0 77 84 Left 2
WINDOW 3 75 52 Left 2
SYMATTR InstName Q6
SYMATTR Value 2SA1381F
SYMBOL res 176 -992 R0
SYMATTR InstName R10
SYMATTR Value {rltpcs}
SYMBOL zener -208 -912 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D8
SYMATTR Value 1N750
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL npn 544 -560 M0
SYMATTR InstName Q1
SYMATTR Value CA_BC550C
SYMBOL npn 224 -560 R0
SYMATTR InstName Q2
SYMATTR Value CA_BC550C
SYMBOL npn 416 304 R0
SYMATTR InstName Q8
SYMATTR Value 2SC3503F
SYMBOL zener -208 528 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D11
SYMATTR Value 1N750
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res -208 -624 R0
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL res 464 432 R0
SYMATTR InstName R7
SYMATTR Value {rltpcs}
SYMBOL res 272 -432 R0
SYMATTR InstName R9
SYMATTR Value {rltpe}
SYMBOL res 464 -432 R0
SYMATTR InstName R12
SYMATTR Value {rltpe}
SYMBOL npn -128 304 M0
SYMATTR InstName Q4
SYMATTR Value 2SC3503F
SYMBOL pnp -128 -752 R180
WINDOW 0 77 84 Left 2
WINDOW 3 75 52 Left 2
SYMATTR InstName Q5
SYMATTR Value 2SA1381F
TEXT -1344 -656 Left 2 !.param rltpe=200
TEXT 1280 -272 Left 2 ;5W
TEXT 1280 -184 Left 2 ;5W
TEXT -1344 -896 Left 2 !.lib ../lib/ONNN_BJT.lib
TEXT -1344 -832 Left 2 !.lib ../lib/STM_D.lib
TEXT -1344 -928 Left 2 !.lib ../lib/FCS_BJT.lib
TEXT -1344 -864 Left 2 !.lib ../lib/ONNN_D.lib
TEXT -1344 -800 Left 2 !.lib ../lib/TSE_BJT.lib
TEXT -1344 -560 Left 2 !.param rdrvb=100
TEXT -1016 -928 Left 2 !.lib ../lib/VSH_FET.lib
TEXT -1344 -688 Left 2 !.param rltpcs 1k1
TEXT -1344 -624 Left 2 !.param rvase 75
TEXT -1344 -592 Left 2 !.param rvasb 1k
RECTANGLE Normal -704 -752 -1376 -960
RECTANGLE Normal -704 -512 -1376 -720
